<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Defined Type: jboss::instance_5
  
    &mdash; Documentation by YARD 0.9.15
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "puppet_defined_types::jboss::instance_5";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_defined_type_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (j)</a> &raquo;
    <span class='title'><span class='object_link'>Defined Types</span></span>
     &raquo; 
    <span class="title">jboss::instance_5</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Defined Type: jboss::instance_5</h1>
<div class="box_info">
  <dl>
    <dt>Defined in:</dt>
    <dd>
      manifests/instance_5.pp
    </dd>
  </dl>
</div>

<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    
<p>Creates, configures and set up the service for a JBoss-5.1.0.GA instance,
i.e. a server profile with all the configurations needed to use it as an
independent service.</p>

<p>Declares all other classes in the jboss module needed for installing a
jboss server profile. Currently, these consists of
jboss::instance::install, jboss::instance::config, and
jboss::instance::service.</p>

<p>Requires:</p>
<ul><li>
<p><a href="'jboss'">Class</a> for installing and setting up basic jboss
environment.</p>
</li><li>
<p><a href="'java::java_6'">Class</a> for installing and setting up java6-jdk.</p>
</li></ul>

  </div>
</div>


<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Declaring jboss 5 instance</p>
</div></p>
      
      <pre class="example code"><code>jboss::instance { &#39;fina&#39;:
  profile     =&gt; &#39;all&#39;,
  environment =&gt; &#39;preprod&#39;,
  ip          =&gt; &#39;172.16.12.11&#39;,
  iface       =&gt; &#39;eth0:2&#39;,
  jmxport     =&gt; &#39;12345&#39;,
}</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>instance_name</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$title</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Name of the JBoss profile and associated service corresponding to this
instance. Defaults to the resource title.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>profile</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;default&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Name of the standard JBoss profile from which this one is derived. As of
JBoss-5.1.0.GA different profiles are provided with a different level of
services made available; they are: <code>minimal</code>, <code>web</code>,
<code>default</code>, <code>all</code>. Defaults to <code>default</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ip</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;127.0.0.1&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Dedicated IP on which this instance will be listening. Defaults to
<code>127.0.0.1</code> i.e. localhost.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>iface</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Name of the secondary network interface dedicated to this instance.
Defaults to <code>undef</code>, in which case a secondary network interface
to bind the jboss instance is not created.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>environment</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;dev&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Abbreviation identifying the environment: valid values are
<code>dev</code>, <code>test</code>, <code>prep</code>, <code>prod</code>.
Defaults to <code>dev</code>. <em>Note:</em> hot code deployment is
disabled in the environments <code>prep</code> and <code>prod</code>,
enabled on <code>dev</code> and <code>test</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>jmxport</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;no_port&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>JMX port to use to monitor this instance. Defaults to <code>no_port</code>,
in which case no JMX monitoring is activated.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ws_enabled</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>enable web services on the profile</p>

<p><code>true</code> deploy a web profile enabled for jbossws.
<code>false</code> (Default) do not deploy web services infrastructure.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>xms</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;128m&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>JVM OPT for initial heap size. Defaults to <code>128m</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>xmx</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;512m&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>JVM OPT for maximum heap size. Defaults to <code>512m</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>max_perm_size</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;256m&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>JVM OPT for max permanent generations size. Defaults to <code>256m</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>stack_size</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;2048k&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>JVM OPT for stack size. Defaults to <code>2048k</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>extra_jvm_pars</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>extra JVM OPTS. Defaults to &#39;&#39;.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>mgmt_user</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Management user username. Defaults to <code>undef</code>, in which case no
security is enforced on the JBoss console.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>mgmt_passwd</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Management user password. Defaults to <code>undef</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>jmx_user</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>JMX user username. Defaults to <code>undef</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>jmx_passwd</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>JMX user password. Defaults to <code>undef</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>smtp_ip</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>IP of the smtp server used by the JBoss mail service. Defaults to
<code>undef</code>, in which case the mail service is not configured.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>smtp_port</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;25&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Port of the smtp server used by the JBoss mail service. Defaults to
<code>25</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>smtp_domain</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;nosuchhost.nosuchdomain.com&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>What will appear as default sender domain of the emails sent by the JBoss
mail service. Defaults to &lt;tt&gt;nosuchhost.nosuchdomain.com&lt;tt&gt;.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>backup_conf_target</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/usr/local/bin/backupall.sh.conf&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Full pathname of the backup configuration file where the instance paths to
backup are added. Defaults to
<code>/usr/local/bin/backupall.sh.conf</code>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>Dario Sestero</p>
</div>
      
    </li>
  
</ul>

</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File 'manifests/instance_5.pp', line 104</span>

define jboss::instance_5 (
  $instance_name      = $title,
  $profile            = &#39;default&#39;,
  $ip                 = &#39;127.0.0.1&#39;,
  $iface              = undef,
  $environment        = &#39;dev&#39;,
  $jmxport            = &#39;no_port&#39;,
  $ws_enabled         = false,
  $xms                = &#39;128m&#39;,
  $xmx                = &#39;512m&#39;,
  $max_perm_size      = &#39;256m&#39;,
  $stack_size         = &#39;2048k&#39;,
  $extra_jvm_pars     = &#39;&#39;,
  $mgmt_user          = undef,
  $mgmt_passwd        = undef,
  $jmx_user           = undef,
  $jmx_passwd         = undef,
  $smtp_ip            = undef,
  $smtp_port          = &#39;25&#39;,
  $smtp_domain        = &#39;nosuchhost.nosuchdomain.com&#39;,
  $backup_conf_target = &#39;/usr/local/bin/backupall.sh.conf&#39;,) {
  $smtp_sender = &quot;jboss-${title}-${environment}@${smtp_domain}&quot;

  jboss::instance_5::install { $instance_name:
    profile            =&gt; $profile,
    environment        =&gt; $environment,
    backup_conf_target =&gt; $backup_conf_target,
  } -&gt;
  jboss::instance_5::config { $instance_name:
    ip             =&gt; $ip,
    version        =&gt; &#39;5.1.0&#39;,
    profile        =&gt; $profile,
    iface          =&gt; $iface,
    environment    =&gt; $environment,
    ws_enabled     =&gt; $ws_enabled,
    jmxport        =&gt; $jmxport,
    xms            =&gt; $xms,
    xmx            =&gt; $xmx,
    max_perm_size  =&gt; $max_perm_size,
    stack_size     =&gt; $stack_size,
    extra_jvm_pars =&gt; $extra_jvm_pars,
    mgmt_user      =&gt; $mgmt_user,
    mgmt_passwd    =&gt; $mgmt_passwd,
    jmx_user       =&gt; $jmx_user,
    jmx_passwd     =&gt; $jmx_passwd,
    smtp_ip        =&gt; $smtp_ip,
    smtp_port      =&gt; $smtp_port,
    smtp_sender    =&gt; $smtp_sender,
  } ~&gt;
  jboss::instance::service { $instance_name:
    environment =&gt; $environment,
  }
}</pre>
      </td>
    </tr>
  </table>
</div>
</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>